CONFIG:
  #transform component
  NAME: player
  #RoutineList component
  SPEED: 2
  #damage component
  MAX_HP: 50
  DAMAGE: 10
  KNOCKBACK: 2
  #hp component
  HURT_ANIMATION:
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
      #hp component
  HURT_SOUND_EFFECT: "playerHit"
  #INVINCIBLE: false
  #goes to behaviours component
  CHECK_TRANSITIONS_EVERY_FRAME: true
  BOUNDS:
    #goes to sprite
    IMAGE_WIDTH: 32
    IMAGE_HEIGHT: 32
    #goes to shadow component
    SHADOW_OFFSET_X: 8
    SHADOW_OFFSET_Y: 6
    #goes to collider component
    HITBOX_RADIUS: 7

BEHAVIOURS:
  Walk:
    ACTION: AcceleratedMove
    ON_HITTING_PLAYER_INTERRUPT_AND_GO_TO: start
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
    CONFIG:
      step_sound_effect: "step.ogg"
      acceleration_frames: 6
      deceleration_frames: 3
      movement_direction_type: "InputAxis"
  Stand:
    ACTION: AcceleratedMove
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
    COPY_CONFIG: Walk
  PlayerAttacking:
    COPY_ANIMATION: Walk
    COPY_CONFIG: Walk
  Dive:
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
    CONFIG:
      #sets IS_DONE instead of MAX_TIME
      speed: 3
      friction: .3
      friction_speed: .317
      starting_sin_count: 1
      start_sound_effect: "dash.ogg"
      start_sound_effect2: "playerDive"
  Roll:
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
    CONFIG:
      DAMAGE: 1
      knockback_multiplier: 2
      hurtbox_diameter: 20
      #sets IS_DONE instead of MAX_TIME
      end_early: .35
      speed: 2
      starting_sin_count: 0
      friction: .3
      friction_speed: .317
      jump_speed: .25
      jump_height: 12
      end_sound_effect: "step.ogg"
  Fall:
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
    CONFIG:
      MAX_TIME: 1
      start_sound_effect: "dash.ogg"
  IdleYawn:
    ACTION: Idle
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
    CONFIG:
      start_sound_effect: "playerYawn.ogg"
  IdleLoop:
    ACTION: Idle
    ANIMATION:
      TYPE: SINGLE_FRAME
      IMAGE_NAME: "black"
    CONFIG:
      start_sound_effect: "playerHum.ogg"
      time_min: 6
      time_max: 6
  PlayerCharging:
    COPY_ANIMATION: Walk
    COPY_CONFIG: Walk
ROUTINES:
  start:
    CYCLE:
      - BEHAVIOUR: Stand
    TRANSITIONS:
      - ON_CONDITION: "isMoving"
        GO_TO: walk

      - ON_CONDITION: "idleTimer > 10"
        GO_TO: idleYawn

      - ON_CONDITION: "pressedATTACK"
        GO_TO: charge

      - ON_CONDITION: "canFall && pressedTALK"
        GO_TO: fall
  walk:
    CYCLE:
      - BEHAVIOUR: Walk
    TRANSITIONS:
      - ON_CONDITION: "!isMoving"
        GO_TO: start

      - ON_CONDITION: "pressedATTACK"
        GO_TO: charge

      - ON_CONDITION: "justPressedDIVE && !(currentScreen == 'BlacksmithScreen' && showMenu)"
        GO_TO: dive

      - ON_CONDITION: "canFall && pressedTALK"
        GO_TO: fall
  idleYawn:
    CYCLE:
      - BEHAVIOUR: IdleYawn
    TRANSITIONS:
      - ON_CONDITION: "isMoving"
        GO_TO: start
      - ON_CONDITION: "pressedATTACK"
        GO_TO: charge
      - ON_CONDITION: "canFall && pressedTALK"
        GO_TO: fall
      - ON_CONDITION: "idleTimer < 10"
        GO_TO: start
      - NO_REPEAT: idleLoop
  idleLoop:
    CYCLE:
      - BEHAVIOUR: IdleLoop
    TRANSITIONS:
      - ON_CONDITION: "isMoving"
        GO_TO: start
      - ON_CONDITION: "pressedATTACK"
        GO_TO: charge
      - ON_CONDITION: "canFall && pressedTALK"
        GO_TO: fall
      - ON_CONDITION: "idleTimer < 10"
        GO_TO: start
  charge:
    CYCLE:
      - BEHAVIOUR: PlayerCharging
    TRANSITIONS:
      #attack is not pressed = attack released
      - ON_CONDITION: "!pressedATTACK"
        GO_TO: attack
  attack:
    CYCLE:
      - BEHAVIOUR: PlayerAttacking
    TRANSITIONS:
      #if "bowReleased" (remove later?) or maxtime or isdone is set
      - ON_CONDITION: "bowReleased"
        GO_TO: start
      - NO_REPEAT: start
  dive:
    CYCLE:
      - BEHAVIOUR: Dive
    TRANSITIONS:
      #PI - .2 = 3?
      - ON_CONDITION: "justPressedDIVE && !(currentScreen == 'BlacksmithScreen' && showMenu) && diveSinCounter > 3"
        GO_TO: roll
      - NO_REPEAT: roll
  roll:
    CYCLE:
      - BEHAVIOUR: Roll
    TRANSITIONS:
      - NO_REPEAT: start
  fall:
    CYCLE:
      - BEHAVIOUR: Fall
    TRANSITIONS:
      - NO_REPEAT: start
